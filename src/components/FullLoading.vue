<template>
  <div id="full-loading" v-if="isShow" :class="{ 'fade-out': isHiding }">
    <!-- <div class="center2D">
      <svg width="367px" height="241px" viewBox="0 0 167 41" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
          <g id="Brand/Logotype_Vertical/On-Light" transform="translate(-37.000000, -39.000000)" stroke="#EA2427">
            <g id="Logo" transform="translate(38.000000, 40.000000)">
              <path name="co" class="path1" d="M46.1403797,31.5523302 C42.3928481,31.5523302 39.3442405,28.6351817 39.3442405,25.0496524 C39.3442405,21.4639415 42.3928481,18.546793 46.1403797,18.546793 C49.8877215,18.546793 52.936519,21.4639415 52.936519,25.0496524 C52.936519,28.6351817 49.8877215,31.5523302 46.1403797,31.5523302 M46.1403797,11.8015798 C43.5932278,11.8015798 41.206519,12.465782 39.1541772,13.6186888 C36.15,15.3060821 33.8675316,18.0446445 32.8613924,21.3038863 C32.773481,21.7838705 32.658038,22.2545893 32.5141139,22.7140442 C30.9026582,27.8670616 25.9046203,31.6342654 20.0018354,31.6342654 C12.8005063,31.6342654 6.94158228,26.028515 6.94158228,19.1381438 C6.94158228,12.2477725 12.8005063,6.64202212 20.0018354,6.64202212 C23.0891772,6.64202212 25.9293038,7.67302528 28.1673418,9.39330174 L31.9872152,3.82588468 C28.6446835,1.42451027 24.4938608,0 20.0018354,0 C8.97265823,0 -2.16715534e-13,8.58539494 -2.16715534e-13,19.1381438 C-2.16715534e-13,29.6908926 8.97265823,38.2762875 20.0018354,38.2762875 C25.7231013,38.2762875 30.8905063,35.965387 34.5394937,32.2684913 C37.0125949,35.8943523 41.2874051,38.2977251 46.1403797,38.2977251 C53.775,38.2977251 59.9863291,32.3546051 59.9863291,25.0496524 C59.9863291,17.7445182 53.775,11.8015798 46.1403797,11.8015798" id="Fill-17"></path>
              <path name="n" class="path1" d="M86.6666857,25.783161 C86.6666857,25.7096893 86.6651167,25.636565 86.6638964,25.563267 L86.6638964,25.5194967 L86.6631991,25.5194967 C86.5219946,18.7734759 80.9709134,13.3287551 74.1665985,13.3287551 C67.3629809,13.3287551 61.811551,18.7734759 61.6701722,25.5194967 L61.6666857,25.5194967 L61.6666857,38.3287551 L61.8078902,38.3287551 L62.5395388,38.3287551 L67.9919512,38.3287551 L67.9919512,25.5194967 C68.1312381,22.2705892 70.8723492,19.6700737 74.1665985,19.6700737 C77.4610221,19.6700737 80.1562853,22.2705892 80.2957466,25.5194967 C80.2962696,25.5339131 80.2962696,25.5485032 80.2966182,25.5629196 L80.2966182,26.039704 L80.2966182,38.3287551 L85.7913919,38.3287551 L86.4913131,38.3287551 L86.6638964,38.3287551 L86.6638964,25.9148195 C86.6642451,25.8708754 86.6666857,25.8272788 86.6666857,25.783161" id="Fill-3"></path>
              <path name="dot" class="path2" style="opacity: 0" d="M98.3333523,8.32875513 C98.3333523,10.1698128 96.8410767,11.6620885 95.000019,11.6620885 C93.1589613,11.6620885 91.6666857,10.1698128 91.6666857,8.32875513 C91.6666857,6.48769747 93.1589613,4.9954218 95.000019,4.9954218 C96.8410767,4.9954218 98.3333523,6.48769747 98.3333523,8.32875513" id="Fill-1"></path>
              <path name="i" class="path1" d="M94.986037,13.3754739 L94.986037,13.3754739 C93.1694604,13.3754739 91.697028,14.7942239 91.697028,16.5445711 L91.697028,38.3287725 L98.275046,38.3287725 L98.275046,16.5445711 C98.275046,14.7942239 96.8024334,13.3754739 94.986037,13.3754739" id="Fill-8"></path>
              <path name="c" class="path1" d="M119.249444,37.1984253 C119.305824,37.1727308 119.361686,37.1458211 119.41772,37.1192586 C119.528237,37.06596 119.63841,37.0117933 119.747203,36.9555433 C120.872893,36.3765503 121.929272,35.6157864 122.870134,34.6683906 L122.865996,34.6642239 C125.11341,32.4012031 126.505134,29.2768975 126.505134,25.8314114 L120.186168,25.8314114 C120.186168,28.2477308 118.790996,30.3416544 116.769444,31.34096 C116.751513,31.3498142 116.733582,31.3590156 116.715479,31.3678697 C116.658755,31.3951267 116.601168,31.4206475 116.54341,31.4461683 C116.50341,31.4638767 116.463582,31.4819322 116.423237,31.4987725 C116.386686,31.5140503 116.349444,31.5282864 116.312548,31.5428697 C116.250134,31.5671753 116.187893,31.5916544 116.124962,31.6138767 C116.109617,31.6194322 116.093927,31.6244669 116.07841,31.6298489 C114.795134,32.0727308 113.393582,32.0729044 112.110306,31.6300225 C112.094617,31.6246406 112.078582,31.6194322 112.062893,31.6137031 C112.000306,31.5916544 111.93841,31.5671753 111.876341,31.5430433 C111.839099,31.5282864 111.801686,31.5140503 111.764617,31.4985989 C111.724444,31.4819322 111.685134,31.4640503 111.645306,31.4465156 C111.587548,31.4208211 111.529617,31.3951267 111.472548,31.3676961 C111.454617,31.3590156 111.436858,31.3498142 111.419272,31.3413072 C110.204099,30.7407864 109.215824,29.7446058 108.620306,28.5206475 C108.61272,28.5048489 108.604617,28.4892239 108.59703,28.4734253 C108.568582,28.4135294 108.541858,28.3529392 108.515479,28.2921753 C108.499272,28.2546753 108.48272,28.2175225 108.467203,28.1796753 C108.450651,28.1397447 108.435306,28.0991197 108.419617,28.0586683 C108.396858,27.9992933 108.373755,27.9397447 108.35272,27.8798489 C108.345996,27.8607517 108.339962,27.8413072 108.33341,27.82221 C107.896513,26.5340156 107.896686,25.1279392 108.33341,23.8397447 C108.340134,23.8209947 108.345996,23.8022447 108.352548,23.7836683 C108.373755,23.7230781 108.39703,23.6630086 108.419962,23.6029392 C108.435479,23.5631822 108.450651,23.5230781 108.466858,23.4836683 C108.48272,23.4454739 108.499444,23.4076267 108.515996,23.3696058 C108.542203,23.3095364 108.568755,23.2492933 108.596858,23.1900919 C108.604617,23.1735989 108.613065,23.1574531 108.620824,23.14096 C109.262203,21.8234253 110.358755,20.7701267 111.702893,20.1900919 C111.754099,20.1682169 111.805651,20.1480781 111.85703,20.1275919 C111.889099,20.1149183 111.920651,20.1017239 111.953065,20.0893975 C112.031341,20.0600572 112.110134,20.0321058 112.189444,20.0060642 C112.194444,20.0043281 112.199617,20.0024183 112.204962,20.0006822 C114.147893,19.3663072 116.347203,19.7385294 117.989962,21.1170017 L121.171168,15.5683906 C119.05203,14.0854044 116.573237,13.3433906 114.094272,13.3423489 L114.094272,13.3341892 C112.446858,13.3341892 110.873755,13.6598836 109.434099,14.2492933 C109.428582,14.2515503 109.423065,14.2538072 109.417548,14.2562378 C109.268065,14.3175225 109.119789,14.3812378 108.97341,14.4482517 C108.924789,14.4703003 108.876686,14.4939114 108.828237,14.5166544 C108.754617,14.5515503 108.681168,14.5871406 108.608237,14.6235989 C108.466341,14.6937378 108.325824,14.7671753 108.186168,14.8430433 C108.184617,14.8439114 108.183065,14.8447794 108.181858,14.8456475 C107.15341,15.4058906 106.186341,16.1203003 105.318065,16.9946058 C103.127375,19.2005086 101.856858,22.0859253 101.699962,25.1788072 C101.699789,25.1828003 101.699444,25.1866197 101.699444,25.1866197 C101.694617,25.2831475 101.691168,25.3760294 101.68841,25.469085 C101.688237,25.4833211 101.687548,25.4977308 101.687203,25.5119669 C101.684444,25.6176961 101.683065,25.7237725 101.683065,25.8300225 L101.683065,25.8314114 C101.683065,25.9383558 101.684444,26.0447794 101.687203,26.1510294 C101.687548,26.1643975 101.688237,26.1777656 101.68841,26.1911336 C101.691168,26.2852308 101.694617,26.3789808 101.699272,26.4727308 L101.699789,26.481585 C101.856168,29.5755086 103.126858,32.4619669 105.318065,34.6683906 C106.258927,35.6157864 107.315306,36.3763767 108.440996,36.9553697 C108.549789,37.0117933 108.659962,37.06596 108.770824,37.1192586 C108.826686,37.1458211 108.882375,37.1725572 108.938582,37.1982517 C109.088065,37.2673489 109.239444,37.3331475 109.39203,37.3963419 C109.409272,37.40346 109.426341,37.4107517 109.443755,37.4176961 C110.880651,38.0046753 112.450134,38.3288072 114.094272,38.3288072 C115.737893,38.3288072 117.307375,38.0046753 118.744444,37.4176961 C118.761858,37.4107517 118.778927,37.40346 118.796341,37.3963419 C118.948927,37.3331475 119.100134,37.2673489 119.249444,37.1984253" id="Fill-14"></path>
              <path name="l" class="path1" d="M136.509317,3.37215451 C136.509317,1.54915136 135.075633,0.0715098513 133.306861,0.0715098513 C131.538265,0.0715098513 130.104405,1.54915136 130.104405,3.37215451 C130.104405,3.38173784 130.105633,3.39114035 130.105808,3.40072369 C130.105633,3.41030702 130.104405,3.41970954 130.104405,3.42929287 L130.104405,38.328719 L136.509317,38.328719 L136.509317,3.42929287 C136.509317,3.41970954 136.508089,3.41030702 136.507914,3.40072369 C136.508089,3.39114035 136.509317,3.38173784 136.509317,3.37215451" id="Fill-5"></path>
              <path name="e" class="path1" d="M146.090284,22.0192299 C147.223069,20.0465351 149.295763,18.7224132 151.660877,18.7224132 C154.025809,18.7224132 156.098503,20.0465351 157.231288,22.0192299 L146.090284,22.0192299 Z M153.17485,29.0045907 L157.178503,29.0045907 L164.427453,29.0045907 C164.716585,27.8751926 164.872202,26.6899419 164.872202,25.4668864 C164.872202,24.2766964 164.725718,23.1214617 164.450832,22.0192299 C162.976311,16.105515 157.801151,11.7256539 151.660877,11.7256539 C144.375946,11.7256539 138.449371,17.8901351 138.449371,25.4668864 C138.449371,33.0440176 144.375946,39.2083088 151.660877,39.2083088 C157.308183,39.2083088 160.394759,36.4637478 163.007727,33.2520396 L156.170466,30.3068656 C155.002978,31.4848972 153.412476,32.2119295 151.660877,32.2119295 C149.336129,32.2119295 147.294302,30.9324515 146.149279,29.0156092 L153.17485,29.0156092 L153.17485,29.0045907 Z" id="Fill-11"></path>
            </g>
          </g>
        </g>
      </svg>
    </div> -->
    <div class="flex-full-loading">
      <h1>
        <span>P</span>
        <span>r</span>
        <span>a</span>
        <span>p</span>
        <span>a</span>
        <span>s</span>
        <span>&nbsp;</span>
        <span>J</span>
        <span>o</span>
        <span>n</span>
        <span>g</span>
        <span>k</span>
        <span>a</span>
        <span>e</span>
        <span>n</span>
        <span>b</span>
        <span>o</span>
        <span>o</span>
        <span>n</span>
      </h1>
    </div>
  </div>
</template>

<script>
import anime from "animejs";
export default {
  data() {
    return {
      isShow: this.$store.state.isFullLoading,
      isHiding: false,
    };
  },
  watch: {
    "$store.state.isFullLoading"(val) {
      if (val) this.isShow = true;
      else {
        this.isHiding = true;
        setTimeout(() => {
          this.isHiding = false;
          this.isShow = false;
        }, 1000);
      }
    },
  },
  mounted() {
    this.$nextTick(() => {
      this.loading();
      // this.loading3();
    });
  },
  methods: {
    loading() {
      anime({
        targets: "span",
        scale: [5, 1],
        duration: 500,
        opacity: [0,1],
        delay: anime.stagger(150, { start: 150 }),
        loop: true,
        complete: () => {
          // this.$store.commit('SET_STATE', { name: 'isFullLoading', val: false })
        }
      });
    },
    loading3 () {
      anime({
        targets: '.path1',
        strokeDashoffset: [anime.setDashoffset, 0],
        easing: 'easeInSine',
        delay: anime.stagger(200, { start: 200 }),
        duration: 1000,
        direction: 'normal',
        complete: () => {
          // console.log('endd')
          // this.fillColor = 'red'
          anime({
            targets: '.path1',
            easing: 'easeInOutSine',
            duration: 600,
            delay: anime.stagger(20, { start: -100 }),
            stroke: '#ea2427',
            fill: ['#fff', '#ea2427'],
            complete: () => {
              anime({
                targets: '.path2',
                easing: 'easeOutElastic',
                duration: 800,
                translateY: [-20, 0],
                opacity: [0, 1],
                fill: ['#ea2427'],
                // loop: true,
                // complete: () => {
                //   this.$store.commit('SET_STATE', { name: 'isFullLoading', val: false })
                // }
              })
            }
          })
        }
      })
    }
  },
};
</script>

<style lang="scss" scoped>
@import "../styles/_mixins.scss";
@import "../styles/_variables.scss";

#full-loading {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: black; //3c3c3c
  opacity: 1;
  z-index: 99999;
  @include transition(opacity 0.3s linear);
  &.fade-out {
    opacity: 0;
  }
  svg {
      @media (max-width: 600px) {
        width: 267px;
        height: 141px;
      }
    }
  .flex-full-loading {
    padding: 15% 0 0 0;
    h1 {
      font-family: "Geostar", serif;
      font-weight: 500;
      font-size: 48px;
      margin: 0px;
      color: white;
    }
  }
}
</style>
